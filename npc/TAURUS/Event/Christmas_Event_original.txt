//===== rAthena Script =======================================
//= Christmas Event
//===== By: ================================================== 
//= mr.TAURUS
//===== Current Version: ===================================== 
//= 1.0 Add Database.
//= 1.1 Add Client and Mob Spawn.
//= 1.2 Add NPC Santa Hunter.
//= 1.3 Add NPC Snowman.
//= 1.4 Add NPC Santy.
//= 1.5 Add NPC Santa’s Gift.
//= 1.6 Add Mother Crystal Event.
//= 1.7 Add Random Drops Reward for Mother Crystal Event.
//= 1.8 Add Command Turn On/Off Event for GM.
//= 1.9 Add mob_db txt and yml.
//= 2.0 Edit Random Drops Reward for Mother Crystal Event.
//===== Compatible With: ===================================== 
//= rAthena Project
//= Ro GGT: https://ro.gnjoy.in.th/xmas-2020-festival-event/
//============================================================
/*
//= System/OngoingQuestInfoList_Sakray.lub
	[4357] = {
		Title = "Hunt Santa Lunatic",
		IconName = "ico_ev.bmp",
		Description = {
			"¡Ó¨Ñ´ 3 Santa Lunatics ã¡Åéæ Prontera áÅĞ Geffen."
		},
		Summary = ""
	},
	[4358] = {
		Title = "Hunt Santa Goblin",
		IconName = "ico_ev.bmp",
		Description = {
			"¡Ó¨Ñ´ 3 Santa Goblins ·Ò§µÍ¹ãµé¢Í§àÁ×Í§ Geffen."
		},
		Summary = ""
	},
	[4359] = {
		Title = "Hunt Santa Orc",
		IconName = "ico_ev.bmp",
		Description = {
			"¡Ó¨Ñ´ 3 Santa Orcs á¶Çæ á¼¹·Õè Orc ã¡Åéæ ·Ò§µÍ¹ãµé¢Í§ Geffen áÅĞ µĞÇÑ¹µ¡à©ÕÂ§ãµé¢Í§ Prontera."
		},
		Summary = ""
	},
	[4360] = {
		Title = "Hunt Santa Jakk",
		IconName = "ico_ev.bmp",
		Description = {
			"¡Ó¨Ñ´ 3 Santa Jakk á¶Çæ Geffen tower ªÑé¹ 2."
		},
		Summary = ""
	},
	[4361] = {
		Title = "Wait for Santa Lunatic",
		Description = {
			"Quest ¹ÕéÁÕ¨ĞÊÒÁÒÃ¶ÃÑºä´éÍÕ¡¤ÃÑé§ËÅÑ§¨Ò¡¼èÒ¹ÂÒÁàÂç¹ä»áÅéÇ 1 ÇÑ¹."
		},
		Summary = ""
	},
	[4362] = {
		Title = "Wait for Santa Goblin",
		Description = {
			"Quest ¹ÕéÁÕ¨ĞÊÒÁÒÃ¶ÃÑºä´éÍÕ¡¤ÃÑé§ËÅÑ§¨Ò¡¼èÒ¹ÂÒÁàÂç¹ä»áÅéÇ 1 ÇÑ¹."
		},
		Summary = ""
	},
	[4363] = {
		Title = "Wait for Santa Orc",
		Description = {
			"Quest ¹ÕéÁÕ¨ĞÊÒÁÒÃ¶ÃÑºä´éÍÕ¡¤ÃÑé§ËÅÑ§¨Ò¡¼èÒ¹ÂÒÁàÂç¹ä»áÅéÇ 1 ÇÑ¹."
		},
		Summary = ""
	},
	[4364] = {
		Title = "Wait for Santa Jakk",
		Description = {
			"Quest ¹ÕéÁÕ¨ĞÊÒÁÒÃ¶ÃÑºä´éÍÕ¡¤ÃÑé§ËÅÑ§¨Ò¡¼èÒ¹ÂÒÁàÂç¹ä»áÅéÇ 1 ÇÑ¹."
		},
		Summary = ""
	},
	
//= import/quest_db.yml
  - Id: 4357
    Title: Hunt Santa Lunatic
    Targets:
      - Mob: XMAS_LUNATIC
        Count: 3
  - Id: 4358
    Title: Hunt Santa Goblin
    Targets:
      - Mob: GOBLINE_XMAS
        Count: 3
  - Id: 4359
    Title: Hunt Santa Orc
    Targets:
      - Mob: ORC_XMAS
        Count: 3
  - Id: 4360
    Title: Hunt Santa Jakk
    Targets:
      - Mob: JAKK_XMAS
        Count: 3
  - Id: 4361
    Title: Wait for Santa Lunatic
    TimeLimit: +1d
  - Id: 4362
    Title: Wait for Santa Goblin
    TimeLimit: +1d
  - Id: 4363
    Title: Wait for Santa Orc
    TimeLimit: +1d
  - Id: 4364
    Title: Wait for Santa Jakk
    TimeLimit: +1d

//= db/re/mob_db.txt
2080,CRYSTAL_L,Crystal,Crystal,7,2500,1,7,7,3,7,7,7,7,1,7,7,7,7,77,10,12,2,0,60,104267905,200,500,620,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0

//= db/import/mob_db.yml
  - Id: 2080
    AegisName: CRYSTAL_L
    Name: Crystal
    Level: 7
    Hp: 2500
    BaseExp: 7
    JobExp: 7
    Attack: 7
    Attack2: 7
    Defense: 7
    MagicDefense: 7
    Agi: 7
    Vit: 7
    Int: 7
    Dex: 7
    Luk: 77
    AttackRange: 2
    SkillRange: 10
    ChaseRange: 12
    Size: Large
    Race: Formless
    Element: Neutral
    ElementLevel: 3
    WalkSpeed: 177
    AttackDelay: 620
    AttackMotion: 500
    DamageMotion: 500
    Ai: 01
    Class: Boss
    Modes:
      IgnoreMagic: true
      IgnoreMelee: true
      IgnoreMisc: true
      KnockBackImmune: true
      StatusImmune: true

//= db/re/mob_skill_db.txt
1247,Antonio@NPC_SUMMONSLAVE,idle,196,3,10000,700,10000,no,self,slavele,0,1244,1245,1588,,,,
*/

// Monster Spawns
//============================================================
ama_fild01,0,0	monster	Antonio	1247,1
ayo_fild01,0,0	monster	Antonio	1247,1
ayo_fild02,0,0	monster	Antonio	1247,1
bif_fild01,0,0	monster	Antonio	1247,1
bif_fild02,0,0	monster	Antonio	1247,1
bra_fild01,0,0	monster	Antonio	1247,1
cmd_fild01,0,0	monster	Antonio	1247,1
cmd_fild02,0,0	monster	Antonio	1247,1
cmd_fild03,0,0	monster	Antonio	1247,1
cmd_fild04,0,0	monster	Antonio	1247,1
cmd_fild06,0,0	monster	Antonio	1247,1
cmd_fild07,0,0	monster	Antonio	1247,1
cmd_fild08,0,0	monster	Antonio	1247,1
cmd_fild09,0,0	monster	Antonio	1247,1
dew_fild01,0,0	monster	Antonio	1247,1
dic_fild01,0,0	monster	Antonio	1247,1
dic_fild02,0,0	monster	Antonio	1247,1
ecl_fild01,0,0	monster	Antonio	1247,1
ein_fild03,0,0	monster	Antonio	1247,1
ein_fild04,0,0	monster	Antonio	1247,1
ein_fild05,0,0	monster	Antonio	1247,1
ein_fild06,0,0	monster	Antonio	1247,1
ein_fild07,0,0	monster	Antonio	1247,1
ein_fild08,0,0	monster	Antonio	1247,1
ein_fild09,0,0	monster	Antonio	1247,1
gef_fild00,0,0	monster	Antonio	1247,1
gef_fild01,0,0	monster	Antonio	1247,1
gef_fild02,0,0	monster	Antonio	1247,1
gef_fild03,0,0	monster	Antonio	1247,1
gef_fild04,0,0	monster	Antonio	1247,1
gef_fild05,0,0	monster	Antonio	1247,1
gef_fild06,0,0	monster	Antonio	1247,1
gef_fild07,0,0	monster	Antonio	1247,1
gef_fild08,0,0	monster	Antonio	1247,1
gef_fild09,0,0	monster	Antonio	1247,1
gef_fild10,0,0	monster	Antonio	1247,1
gef_fild11,0,0	monster	Antonio	1247,1
gon_fild01,0,0	monster	Antonio	1247,1
hu_fild01,0,0	monster	Antonio	1247,1
hu_fild02,0,0	monster	Antonio	1247,1
hu_fild04,0,0	monster	Antonio	1247,1
hu_fild05,0,0	monster	Antonio	1247,1
hu_fild06,0,0	monster	Antonio	1247,1
lhz_fild01,0,0	monster	Antonio	1247,1
lhz_fild02,0,0	monster	Antonio	1247,1
lhz_fild03,0,0	monster	Antonio	1247,1
lou_fild01,0,0	monster	Antonio	1247,1
xmas_fild01,0,0	monster	Antonio	1247,1
ma_fild01,0,0	monster	Antonio	1247,1
ma_fild02,0,0	monster	Antonio	1247,1
man_fild01,0,0	monster	Antonio	1247,1
man_fild02,0,0	monster	Antonio	1247,1
man_fild03,0,0	monster	Antonio	1247,1
mjolnir_01,0,0	monster	Antonio	1247,1
mjolnir_02,0,0	monster	Antonio	1247,1
mjolnir_03,0,0	monster	Antonio	1247,1
mjolnir_04,0,0	monster	Antonio	1247,1
mjolnir_05,0,0	monster	Antonio	1247,1
mjolnir_06,0,0	monster	Antonio	1247,1
mjolnir_07,0,0	monster	Antonio	1247,1
mjolnir_08,0,0	monster	Antonio	1247,1
mjolnir_09,0,0	monster	Antonio	1247,1
mjolnir_10,0,0	monster	Antonio	1247,1
mjolnir_11,0,0	monster	Antonio	1247,1
mjolnir_12,0,0	monster	Antonio	1247,1
moc_fild01,0,0	monster	Antonio	1247,1
moc_fild02,0,0	monster	Antonio	1247,1
moc_fild03,0,0	monster	Antonio	1247,1
moc_fild07,0,0	monster	Antonio	1247,1
moc_fild11,0,0	monster	Antonio	1247,1
moc_fild12,0,0	monster	Antonio	1247,1
moc_fild13,0,0	monster	Antonio	1247,1
moc_fild16,0,0	monster	Antonio	1247,1
moc_fild17,0,0	monster	Antonio	1247,1
moc_fild18,0,0	monster	Antonio	1247,1
moc_fild20,0,0	monster	Antonio	1247,1
moc_fild21,0,0	monster	Antonio	1247,1
moc_fild22,0,0	monster	Antonio	1247,1
mosk_fild02,0,0	monster	Antonio	1247,1
niflheim,0,0	monster	Antonio	1247,1
nif_fild01,0,0	monster	Antonio	1247,1
nif_fild02,0,0	monster	Antonio	1247,1
pay_fild01,0,0	monster	Antonio	1247,1
pay_fild02,0,0	monster	Antonio	1247,1
pay_fild03,0,0	monster	Antonio	1247,1
pay_fild04,0,0	monster	Antonio	1247,1
pay_fild06,0,0	monster	Antonio	1247,1
pay_fild07,0,0	monster	Antonio	1247,1
pay_fild08,0,0	monster	Antonio	1247,1
pay_fild09,0,0	monster	Antonio	1247,1
pay_fild10,0,0	monster	Antonio	1247,1
prt_fild00,0,0	monster	Antonio	1247,1
prt_fild01,0,0	monster	Antonio	1247,1
prt_fild02,0,0	monster	Antonio	1247,1
prt_fild03,0,0	monster	Antonio	1247,1
prt_fild04,0,0	monster	Antonio	1247,1
prt_fild05,0,0	monster	Antonio	1247,1
prt_fild06,0,0	monster	Antonio	1247,1
prt_fild07,0,0	monster	Antonio	1247,1
prt_fild08,0,0	monster	Antonio	1247,1
prt_fild08a,0,0	monster	Antonio	1247,1
prt_fild08b,0,0	monster	Antonio	1247,1
prt_fild08c,0,0	monster	Antonio	1247,1
prt_fild08d,0,0	monster	Antonio	1247,1
prt_fild09,0,0	monster	Antonio	1247,1
prt_fild10,0,0	monster	Antonio	1247,1
prt_fild11,0,0	monster	Antonio	1247,1
ra_fild01,0,0	monster	Antonio	1247,1
ra_fild03,0,0	monster	Antonio	1247,1
ra_fild04,0,0	monster	Antonio	1247,1
ra_fild05,0,0	monster	Antonio	1247,1
ra_fild06,0,0	monster	Antonio	1247,1
ra_fild08,0,0	monster	Antonio	1247,1
ra_fild12,0,0	monster	Antonio	1247,1
rockrdg1,0,0	monster	Antonio	1247,1
rockrdg2,0,0	monster	Antonio	1247,1
spl_fild01,0,0	monster	Antonio	1247,1
spl_fild02,0,0	monster	Antonio	1247,1
spl_fild03,0,0	monster	Antonio	1247,1
um_fild01,0,0	monster	Antonio	1247,1
um_fild02,0,0	monster	Antonio	1247,1
um_fild03,0,0	monster	Antonio	1247,1
um_fild04,0,0	monster	Antonio	1247,1
ve_fild01,0,0	monster	Antonio	1247,1
ve_fild02,0,0	monster	Antonio	1247,1
ve_fild03,0,0	monster	Antonio	1247,1
ve_fild04,0,0	monster	Antonio	1247,1
ve_fild07,0,0	monster	Antonio	1247,1
yuno_fild01,0,0	monster	Antonio	1247,1
yuno_fild02,0,0	monster	Antonio	1247,1
yuno_fild03,0,0	monster	Antonio	1247,1
yuno_fild04,0,0	monster	Antonio	1247,1
yuno_fild06,0,0	monster	Antonio	1247,1
yuno_fild07,0,0	monster	Antonio	1247,1
yuno_fild08,0,0	monster	Antonio	1247,1
yuno_fild09,0,0	monster	Antonio	1247,1
yuno_fild11,0,0	monster	Antonio	1247,1
yuno_fild12,0,0	monster	Antonio	1247,1
gef_fild04,0,0	monster	Santa Lunatic	2210,5
prt_fild06,0,0	monster	Santa Lunatic	2210,5
prt_fild01,0,0	monster	Santa Lunatic	2210,5
gef_fild11,0,0	monster	Santa Goblin	1245,5
prt_fild11,0,0	monster	Santa Goblin	1245,5
gef_fild03,0,0	monster	Santa Orc	1588,5
gef_fild10,0,0	monster	Santa Orc	1588,5
gef_dun01,0,0	monster	Santa Jakk	1244,5

// NPC Scripts
//============================================================
xmas,141,166,5	script	Santa Hunter#Christmas2020_1	4_M_05,{
	disable_items;
	set .@PlayTime1,checkquest(4361,PLAYTIME);
	set .@PlayTime2,checkquest(4362,PLAYTIME);
	set .@PlayTime3,checkquest(4363,PLAYTIME);
	set .@PlayTime4,checkquest(4364,PLAYTIME);
	if (checkquest(4361,PLAYTIME) > 1) {
		erasequest 4357;
		erasequest 4361;
	}
	if (checkquest(4362,PLAYTIME) > 1) {
		erasequest 4358;
		erasequest 4362;
	}
	if (checkquest(4363,PLAYTIME) > 1) {
		erasequest 4359;
		erasequest 4363;
	}
	if (checkquest(4364,PLAYTIME) > 1) {
		erasequest 4360;
		erasequest 4364;
	}
	if (isbegin_quest(4357) == 0) && (isbegin_quest(4358) == 0) && (isbegin_quest(4359) == 0) && (isbegin_quest(4360) == 0) {
		mes .NPCName$;
		mes "ÊÇÑÊ´Õ...";
		mes "¢éÒ¤×Í¹Ñ¡ÅèÒ";
		mes "·ÕèÁÕª×èÍàÊÕÂ§â´è§´Ñ§ä»·ÑèÇ Midgard";
		mes "áµèµÍ¹¹Õé¢éÒà¡ÉÕÂ³áÅéÇ";
		mes "áÅĞ¢éÒ¡ÓÅÑ§·Ó¹Ùé¹·Ó¹ÕèàÅç¡æ ¹éÍÂæ";
		mes "ÍÂÙè...";
		next;
		mes .NPCName$;
		mes "à¹×èÍ§¨Ò¡¤ÃÑé§¹ÕéÁÕàÃ×èÍ§´Õæ";
		mes "à¡Ô´¢Öé¹";
		mes "¡çµéÍ§áÇĞà¢éÒÁÒË¹èÍÂÊÔ ¨ÃÍ§äËÁ?";
		mes "¢éÒµéÍ§Å§â·Éà¨éÒ¾Ç¡·Õè·ÓãËé§Ò¹";
		mes "¤ÃÔÊµìÁÒÊÇØè¹ÁÒÂÊÑ¡Ë¹èÍÂáÅéÇÅèĞ";
		next;
		mes .NPCName$;
		mes "¢éÒ¡ç¤×Í¹Ñ¡ÅèÒàËÁ×Í¹¡Ñ¹";
		mes "·ÓäÁ¶Ö§äÁèä»´éÇÂµÑÇàÍ§¹èĞàËÃÍ?";
		mes "äÁèµéÍ§¶ÒÁÍĞäÃàÂÍĞáÂĞËÃÍ¡";
		mes "àÍÒà»ç¹ÇèÒÀÒÃ¡Ô¨¹Õé";
		mes "¶éÒà¨éÒÍÂÒ¡·Ó¡ç·Ó";
		mes "äÁèÍÂÒ¡·Ó¡çäÁèà»ç¹äÃ";
	}
	if (isbegin_quest(4357) == 1) || (isbegin_quest(4358) == 1) || (isbegin_quest(4359) == 1) || (isbegin_quest(4360) == 1) || (isbegin_quest(4357) == 2) || (isbegin_quest(4358) == 2) || (isbegin_quest(4359) == 2) || (isbegin_quest(4360) == 2) {
		mes .NPCName$;
		mes "ÇÑ¹¹Õéà»ç¹ÇÑ¹´Õ~";
		mes "ÁÕÍĞäÃàËÃÍ?";
	}
		next;
		switch( select( 
			"¨Ñ´¡ÒÃ Santa Lunatic 3 µÑÇ",
			"¨Ñ´¡ÒÃ Santa Goblin 3 µÑÇ",
			"¨Ñ´¡ÒÃ Santa Orc 3 µÑÇ",
			"¨Ñ´¡ÒÃ Santa Jakk 3 µÑÇ",
			"¨º¡ÒÃÊ¹·¹Ò"
		)){
			case 1:
				mes .NPCName$;
				if (checkquest(4357,HUNTING) == 2) || (.@PlayTime1 == 0) || (.@PlayTime1 == 1) {
					if (checkquest(4357,HUNTING) == 2) {
						completequest 4357;
						setquest 4361;
						for(.@i = 0; .@i<getarraysize(.Rewards); .@i++)
						getitem .Rewards[.@i],.Amounts[.@i];
					}
					mes "âÎèâÎè ¢Íºã¨·ÕèªèÇÂ¹Ğ";
					mes "ÍÕ¡ 1 ÇÑ¹";
					mes "¤èÍÂ¡ÅÑºÁÒÃÑºÀÒÃ¡Ô¨¤ÃÑé§µèÍä»";
					mes "à¨éÒ¾Ç¡ÁÍ¹ÊàµÍÃì¨Ğâ¼ÅèÁÒ¡èÍ¹";
					mes "¤ÃÔÊµìÁÒÊ¨ĞËÒÂä»ËÅÑ§¨Ò¡à·È¡ÒÅ";
					mes "¢éÒÍÂÒ¡ãËéà¨éÒÁÒªèÇÂ·Ø¡ÇÑ¹";
					close;
				}
				if (isbegin_quest(4357) == 1) && (checkquest(4357,HUNTING) == 1) {
					mes "à¨éÒµéÍ§¨Ñ´¡ÒÃ Santa Lunatic";
					mes "·ÕèË¹Õä»";
					mes "ÊÑ¡ 3 µÑÇ áÅéÇ¡ÅÑºÁÒãËÁè";
					mes "âÎèâÎè";
					close;
				}
				mes "à¨éÒ¹èÒ¨ĞÃÙéãªèäËÁ";
				mes "ÇèÒ Lunatic ÍÂÙè·ÕèäË¹";
				mes "ÅÍ§ä»ã¡Åéæ Geffen ¡Ñº Prontera ´ÙÊÔ";
				mes "¹èÒ¨Ğà¨Í";
				next;
				mes .NPCName$;
				mes "à¨éÒµéÍ§¨Ñ´¡ÒÃ Santa Lunatic";
				mes "·ÕèË¹Õä»";
				mes "ÊÑ¡ 3 µÑÇ áÅéÇ¡ÅÑºÁÒãËÁè";
				mes "âÎèâÎè";
				setquest 4357;
				close;
			
			case 2:
				mes .NPCName$;
				if (checkquest(4358,HUNTING) == 2) || (.@PlayTime2 == 0) || (.@PlayTime2 == 1) {
					if (checkquest(4358,HUNTING) == 2) {
						completequest 4358;
						setquest 4362;
						for(.@i = 0; .@i<getarraysize(.Rewards); .@i++)
						getitem .Rewards[.@i],.Amounts[.@i];
					}
					mes "âÎèâÎè ¢Íºã¨·ÕèªèÇÂ¹Ğ";
					mes "ÍÕ¡ 1 ÇÑ¹";
					mes "¤èÍÂ¡ÅÑºÁÒÃÑºÀÒÃ¡Ô¨¤ÃÑé§µèÍä»";
					mes "à¨éÒ¾Ç¡ÁÍ¹ÊàµÍÃì¨Ğâ¼ÅèÁÒ¡èÍ¹";
					mes "¤ÃÔÊµìÁÒÊ¨ĞËÒÂä»ËÅÑ§¨Ò¡à·È¡ÒÅ";
					mes "¢éÒÍÂÒ¡ãËéà¨éÒÁÒªèÇÂ·Ø¡ÇÑ¹";
					close;
				}
				if (isbegin_quest(4358) == 1) {
					mes "à¨éÒµéÍ§¨Ñ´¡ÒÃ Santa Lunatic";
					mes "·ÕèË¹Õä»";
					mes "ÊÑ¡ 3 µÑÇ áÅéÇ¡ÅÑºÁÒãËÁè";
					mes "âÎèâÎè";
					close;
				}
				mes "Santa Goblin ÍÂÙèã¹»èÒ";
				mes "¶éÒ¨ĞãËéºÍ¡ÍÂèÒ§ÅĞàÍÕÂ´¡ç¤×ÍÍÂÙè·Ò§";
				mes "ãµé¢Í§ Geffen";
				mes "à´Ô¹ä»·Ò§ãµéàÃ×èÍÂæ";
				mes "áÅéÇÁÍ¹ÊàµÍÃì¨Ğâ¼ÅèÍÍ¡ÁÒ";
				next;
				mes .NPCName$;
				mes "à¨éÒµéÍ§¨Ñ´¡ÒÃ Santa Goblin";
				mes "·ÕèË¹Õä»";
				mes "ÊÑ¡ 3 µÑÇ áÅéÇ¡ÅÑºÁÒãËÁè";
				mes "âÎèâÎè";
				setquest 4358;
				close;
		
			case 3:
				mes .NPCName$;
				if (checkquest(4359,HUNTING) == 2) || (.@PlayTime3 == 0) || (.@PlayTime3 == 1) {
					if (checkquest(4359,HUNTING) == 2) {
						completequest 4359;
						setquest 4363;
						for(.@i = 0; .@i<getarraysize(.Rewards); .@i++)
						getitem .Rewards[.@i],.Amounts[.@i];
					}
					mes "âÎèâÎè ¢Íºã¨·ÕèªèÇÂ¹Ğ";
					mes "ÍÕ¡ 1 ÇÑ¹";
					mes "¤èÍÂ¡ÅÑºÁÒÃÑºÀÒÃ¡Ô¨¤ÃÑé§µèÍä»";
					mes "à¨éÒ¾Ç¡ÁÍ¹ÊàµÍÃì¨Ğâ¼ÅèÁÒ¡èÍ¹";
					mes "¤ÃÔÊµìÁÒÊ¨ĞËÒÂä»ËÅÑ§¨Ò¡à·È¡ÒÅ";
					mes "¢éÒÍÂÒ¡ãËéà¨éÒÁÒªèÇÂ·Ø¡ÇÑ¹";
					close;
				}
				if (isbegin_quest(4359) == 1) {
					mes "à¨éÒµéÍ§¨Ñ´¡ÒÃ Santa Lunatic";
					mes "·ÕèË¹Õä»";
					mes "ÊÑ¡ 3 µÑÇ áÅéÇ¡ÅÑºÁÒãËÁè";
					mes "âÎèâÎè";
					close;
				}
				mes "Ê¶Ò¹·Õè·Õè Santa Orc ¨ĞÍÍ¡ÁÒ";
				mes "¤×Í¾×é¹·Õè·ÕèÁÕ Orc Warrior »ÃÒ¡¯";
				mes "ËÃ×Í¨Ğä»·Ò§·ÔÈµĞÇÑ¹ÍÍ¡à©ÕÂ§ãµé¢Í§";
				mes "Prontera ¡çä´é";
				mes "áÅĞà¨éÒÂÑ§ÊÒÁÒÃ¶à´Ô¹·Ò§¨Ò¡ Geffen";
				mes "ä´éÍÕ¡´éÇÂ";
				next;
				mes .NPCName$;
				mes "à¨éÒµéÍ§¨Ñ´¡ÒÃ Santa Orc";
				mes "·ÕèË¹Õä»";
				mes "ÊÑ¡ 3 µÑÇ áÅéÇ¡ÅÑºÁÒãËÁè";
				mes "âÎèâÎè";
				setquest 4359;
				close;
			
			case 4:
				mes .NPCName$;
				if (checkquest(4360,HUNTING) == 2) || (.@PlayTime4 == 0) || (.@PlayTime4 == 1) {
					if (checkquest(4360,HUNTING) == 2) {
						completequest 4360;
						setquest 4364;
						for(.@i = 0; .@i<getarraysize(.Rewards); .@i++)
						getitem .Rewards[.@i],.Amounts[.@i];
					}
					mes "âÎèâÎè ¢Íºã¨·ÕèªèÇÂ¹Ğ";
					mes "ÍÕ¡ 1 ÇÑ¹";
					mes "¤èÍÂ¡ÅÑºÁÒÃÑºÀÒÃ¡Ô¨¤ÃÑé§µèÍä»";
					mes "à¨éÒ¾Ç¡ÁÍ¹ÊàµÍÃì¨Ğâ¼ÅèÁÒ¡èÍ¹";
					mes "¤ÃÔÊµìÁÒÊ¨ĞËÒÂä»ËÅÑ§¨Ò¡à·È¡ÒÅ";
					mes "¢éÒÍÂÒ¡ãËéà¨éÒÁÒªèÇÂ·Ø¡ÇÑ¹";
					close;
				}
				if (isbegin_quest(4360) == 1) {
					mes "à¨éÒµéÍ§¨Ñ´¡ÒÃ Santa Lunatic";
					mes "·ÕèË¹Õä»";
					mes "ÊÑ¡ 3 µÑÇ áÅéÇ¡ÅÑºÁÒãËÁè";
					mes "âÎèâÎè";
					close;
				}
				mes "á¹è¹Í¹ÇèÒ Santa Jakk";
				mes "¨Ğâ¼ÅèÍÍ¡ÁÒ¨Ò¡·Õè·ÕèÁÕ Jakk ÍÂÙè";
				mes "ä»´Ù·Õè Geffen ÁÒáÅéÇãªéäËÁ?";
				mes "à¨éÒ¨Ğà¨Í Santa Jakk ·ÕèªÑé¹ 2 ¢Í§";
				mes "Geffen Dundeon";
				next;
				mes .NPCName$;
				mes "à¨éÒµéÍ§¨Ñ´¡ÒÃ Santa Jakk";
				mes "·ÕèË¹Õä»";
				mes "ÊÑ¡ 3 µÑÇ áÅéÇ¡ÅÑºÁÒãËÁè";
				mes "âÎèâÎè";
				setquest 4360;
				close;
			
			case 5:
				close;
		}
	
	end;

OnInit:
	.NPCName$ = "[^0000FF Santa Hunter ^000000]";
	setarray .Rewards, 7034, 12739; // ¢Í§ÃÒ§ÇÑÅ
	setarray .Amounts, 1, 1; 		// ¨Ó¹Ç¹¢Í§ÃÒ§ÇÑÅ
	questinfo QTYPE_EVENT, QMARK_GREEN, "isbegin_quest(4357) == 0 || isbegin_quest(4358) == 0 || isbegin_quest(4359) == 0 || isbegin_quest(4360) == 0";
	questinfo QTYPE_EVENT2, QMARK_GREEN, "checkquest(4357,HUNTING) == 2 || checkquest(4358,HUNTING) == 2 || checkquest(4359,HUNTING) == 2 || checkquest(4360,HUNTING) == 2";
	end;
}

xmas,149,167,4	script	Snowman#Christmas2020_2	4_M_SNOWMAN,{
	disable_items;
	mes .NPCName$;
	mes "ÊÔè§¨Óà»ç¹ÊÓËÃÑºà¨éÒ¡ç¤×Í!";
	mes "à´ÕëÂÇ¹Ğ! ÍÂèÒà¾Ôè§ºÍ¡";
	mes "ãËé¢éÒÅÍ§·ÒÂ´Ù¡èÍ¹";
	next;
	switch( select( 
		""+getitemname(.Rewards[0])+" - "+(.SnowAmounts[0])+" ea",
		""+getitemname(.Rewards[1])+" - "+(.SnowAmounts[1])+" ea",
		""+getitemname(.Rewards[2])+" - "+(.SnowAmounts[2])+" ea"
	)){
		case 1:
			mes .NPCName$;
			if (countitem(.SnowReqID) >= .SnowAmounts[0]) {
				delitem .SnowReqID,.SnowAmounts[0];
				getitem .Rewards[0],1;
				mes "¹Õè¡ç¤×Í¢Í§·Õèà¨éÒÍÂÒ¡ä´é!";
				mes "àÁÍÃÕè ¤ÃÔÊµìÁÒÊ~";
				close;
			}
			mes "à¨éÒÂÑ§ÁÕ "+getitemname(.SnowReqID)+" äÁèà¾ÕÂ§¾Í";
			mes "¡ÅÑºÁÒãËÁèÍÕ¡¤ÃÑé§àÁ×èÍà¨éÒÁÕÁÑ¹ÁÒ¡¾Í.";
			close;
			
		case 2:
			mes .NPCName$;
			if (countitem(.SnowReqID) >= .SnowAmounts[1]) {
				delitem .SnowReqID,.SnowAmounts[1];
				getitem .Rewards[1],1;
				mes "¹Õè¡ç¤×Í¢Í§·Õèà¨éÒÍÂÒ¡ä´é!";
				mes "àÁÍÃÕè ¤ÃÔÊµìÁÒÊ~";
				close;
			}
			mes "à¨éÒÂÑ§ÁÕ "+getitemname(.SnowReqID)+" äÁèà¾ÕÂ§¾Í";
			mes "¡ÅÑºÁÒãËÁèÍÕ¡¤ÃÑé§àÁ×èÍà¨éÒÁÕÁÑ¹ÁÒ¡¾Í.";
			close;
			
		case 3:
			mes .NPCName$;
			if (countitem(.SnowReqID) >= .SnowAmounts[2]) {
				delitem .SnowReqID,.SnowAmounts[2];
				getitem .Rewards[2],1;
				mes "¹Õè¡ç¤×Í¢Í§·Õèà¨éÒÍÂÒ¡ä´é!";
				mes "àÁÍÃÕè ¤ÃÔÊµìÁÒÊ~";
				close;
			}
			mes "à¨éÒÂÑ§ÁÕ "+getitemname(.SnowReqID)+" äÁèà¾ÕÂ§¾Í";
			mes "¡ÅÑºÁÒãËÁèÍÕ¡¤ÃÑé§àÁ×èÍà¨éÒÁÕÁÑ¹ÁÒ¡¾Í.";
			close;
	}
	end;

OnInit:
	.NPCName$ = "[^0000FF Snowman ^000000]"; 
	setarray .SnowReqID[0], 12739;			// äÍà·çÁ·ÕèµéÍ§ãªé
	setarray .Rewards[0], 607, 19955, 19707; // ¢Í§ÃÒ§ÇÑÅ
	setarray .SnowAmounts[0], 10, 100, 300; // ¨Ó¹Ç¹¢Í§·ÕèµéÍ§ãªé
	end;
}

xmas,152,168,5	script	Santy#Christmas2020_3	4_F_06,{
	disable_items;
	mes .NPCName$;
	mes "ÊÇÑÊ´Õ ¹Ñ¡¼¨­ÀÑÂ·Ø¡¤¹!!";
	mes "ÊÔè§µÍºá·¹...";
	mes "ÊÓËÃÑº¤¹·ÕèÊĞÊÁ "+getitemname(.SnowReqID)+"";
	mes "¢éÒÁÕËÁÇ¡ÍÂÙèàÂÍĞáÂĞ";
	mes "à¨éÒàÅ×Í¡ÍÑ¹·Õè¶Ù¡ã¨ä»ä´éàÅÂ";
	next;
	switch( select( 
		""+getitemname(.Rewards[0])+" 1 week - "+(.SnowAmounts[0])+" ea",
		""+getitemname(.Rewards[1])+" - "+(.SnowAmounts[1])+" ea",
		""+getitemname(.Rewards[2])+" - "+(.SnowAmounts[2])+" ea",
		""+getitemname(.Rewards[3])+" - "+(.SnowAmounts[3])+" ea",
		""+getitemname(.Rewards[4])+" - "+(.SnowAmounts[4])+" ea"
	)){
		case 1:
			mes .NPCName$;
			mes "^FF0000àÅ×Í¡ "+getitemname(.Rewards[0])+" 1 week ^000000";
			mes ""+getitemname(.SnowReqID)+" ·Õèà¨éÒÃÇºÃÇÁÁÒ";
			mes "µéÍ§¡ÒÃáÅ¡à»ç¹ ^FF0000"+(.SnowAmounts[0])+" ÍÑ¹^000000 ãªèäËÁ?";
			next;
			switch( select("¢Í¤Ô´ÍÕ¡¤ÃÑé§","áÅ¡àÅÂ")){
				case 1:
					mes .NPCName$;
					mes "¢éÒ¨ĞÃÍÍÂÙèµÃ§¹Õé";
					mes "ËÒ¡ÇèÒà¨éÒà»ÅÕèÂ¹ã¨·Õè¨ĞáÅ¡ÁÑ¹";
					close;
					
				case 2:
					if (countitem(.SnowReqID) >= .SnowAmounts[0]) {
						delitem .SnowReqID,.SnowAmounts[0];
						rentitem .Rewards[0],604800;
						mes .NPCName$;
						mes "ÍÂÙè¹Õè!";
						mes "ÃÕºæ ÁÒµÃ§¹Õé";
						mes "ÅØé¹¨ÃÔ§æ ÇèÒ¨Ğà¢éÒ¡Ñºà¨éÒá¤èäË¹";
						close;
					}
					mes "à¨éÒÂÑ§ÁÕ "+getitemname(.SnowReqID)+" äÁèà¾ÕÂ§¾Í";
					mes "¡ÅÑºÁÒãËÁèÍÕ¡¤ÃÑé§àÁ×èÍà¨éÒÁÕÁÑ¹ÁÒ¡¾Í.";
					close;
			}
			end;
			
		case 2:
			mes .NPCName$;
			mes "^FF0000àÅ×Í¡ "+getitemname(.Rewards[1])+"^000000";
			mes ""+getitemname(.SnowReqID)+" ·Õèà¨éÒÃÇºÃÇÁÁÒ";
			mes "µéÍ§¡ÒÃáÅ¡à»ç¹ ^FF0000"+(.SnowAmounts[1])+" ÍÑ¹^000000 ãªèäËÁ?";
			next;
			switch( select("¢Í¤Ô´ÍÕ¡¤ÃÑé§","áÅ¡àÅÂ")){
				case 1:
					mes .NPCName$;
					mes "¢éÒ¨ĞÃÍÍÂÙèµÃ§¹Õé";
					mes "ËÒ¡ÇèÒà¨éÒà»ÅÕèÂ¹ã¨·Õè¨ĞáÅ¡ÁÑ¹";
					close;
					
				case 2:
					if (countitem(.SnowReqID) >= .SnowAmounts[1]) {
						delitem .SnowReqID,.SnowAmounts[1];
						getitem .Rewards[1],1;
						mes .NPCName$;
						mes "ÍÂÙè¹Õè!";
						mes "ÃÕºæ ÁÒµÃ§¹Õé";
						mes "ÅØé¹¨ÃÔ§æ ÇèÒ¨Ğà¢éÒ¡Ñºà¨éÒá¤èäË¹";
						close;
					}
					mes "à¨éÒÂÑ§ÁÕ "+getitemname(.SnowReqID)+" äÁèà¾ÕÂ§¾Í";
					mes "¡ÅÑºÁÒãËÁèÍÕ¡¤ÃÑé§àÁ×èÍà¨éÒÁÕÁÑ¹ÁÒ¡¾Í.";
					close;
			}
			end;
			
		case 3:
			mes .NPCName$;
			mes "^FF0000àÅ×Í¡ "+getitemname(.Rewards[2])+"^000000";
			mes ""+getitemname(.SnowReqID)+" ·Õèà¨éÒÃÇºÃÇÁÁÒ";
			mes "µéÍ§¡ÒÃáÅ¡à»ç¹ ^FF0000"+(.SnowAmounts[2])+" ÍÑ¹^000000 ãªèäËÁ?";
			next;
			switch( select("¢Í¤Ô´ÍÕ¡¤ÃÑé§","áÅ¡àÅÂ")){
				case 1:
					mes .NPCName$;
					mes "¢éÒ¨ĞÃÍÍÂÙèµÃ§¹Õé";
					mes "ËÒ¡ÇèÒà¨éÒà»ÅÕèÂ¹ã¨·Õè¨ĞáÅ¡ÁÑ¹";
					close;
					
				case 2:
					if (countitem(.SnowReqID) >= .SnowAmounts[2]) {
						delitem .SnowReqID,.SnowAmounts[2];
						getitem .Rewards[2],1;
						mes .NPCName$;
						mes "ÍÂÙè¹Õè!";
						mes "ÃÕºæ ÁÒµÃ§¹Õé";
						mes "ÅØé¹¨ÃÔ§æ ÇèÒ¨Ğà¢éÒ¡Ñºà¨éÒá¤èäË¹";
						close;
					}
					mes "à¨éÒÂÑ§ÁÕ "+getitemname(.SnowReqID)+" äÁèà¾ÕÂ§¾Í";
					mes "¡ÅÑºÁÒãËÁèÍÕ¡¤ÃÑé§àÁ×èÍà¨éÒÁÕÁÑ¹ÁÒ¡¾Í.";
					close;
			}
			end;
			
		case 4:
			mes .NPCName$;
			mes "^FF0000àÅ×Í¡ "+getitemname(.Rewards[3])+"^000000";
			mes ""+getitemname(.SnowReqID)+" ·Õèà¨éÒÃÇºÃÇÁÁÒ";
			mes "µéÍ§¡ÒÃáÅ¡à»ç¹ ^FF0000"+(.SnowAmounts[3])+" ÍÑ¹^000000 ãªèäËÁ?";
			next;
			switch( select("¢Í¤Ô´ÍÕ¡¤ÃÑé§","áÅ¡àÅÂ")){
				case 1:
					mes .NPCName$;
					mes "¢éÒ¨ĞÃÍÍÂÙèµÃ§¹Õé";
					mes "ËÒ¡ÇèÒà¨éÒà»ÅÕèÂ¹ã¨·Õè¨ĞáÅ¡ÁÑ¹";
					close;
					
				case 2:
					if (countitem(.SnowReqID) >= .SnowAmounts[3]) {
						delitem .SnowReqID,.SnowAmounts[3];
						getitem .Rewards[3],1;
						mes .NPCName$;
						mes "ÍÂÙè¹Õè!";
						mes "ÃÕºæ ÁÒµÃ§¹Õé";
						mes "ÅØé¹¨ÃÔ§æ ÇèÒ¨Ğà¢éÒ¡Ñºà¨éÒá¤èäË¹";
						close;
					}
					mes "à¨éÒÂÑ§ÁÕ "+getitemname(.SnowReqID)+" äÁèà¾ÕÂ§¾Í";
					mes "¡ÅÑºÁÒãËÁèÍÕ¡¤ÃÑé§àÁ×èÍà¨éÒÁÕÁÑ¹ÁÒ¡¾Í.";
					close;
			}
			end;
			
		case 5:
			mes .NPCName$;
			mes "^FF0000àÅ×Í¡ "+getitemname(.Rewards[4])+"^000000";
			mes ""+getitemname(.SnowReqID)+" ·Õèà¨éÒÃÇºÃÇÁÁÒ";
			mes "µéÍ§¡ÒÃáÅ¡à»ç¹ ^FF0000"+(.SnowAmounts[4])+" ÍÑ¹^000000 ãªèäËÁ?";
			next;
			switch( select("¢Í¤Ô´ÍÕ¡¤ÃÑé§","áÅ¡àÅÂ")){
				case 1:
					mes .NPCName$;
					mes "¢éÒ¨ĞÃÍÍÂÙèµÃ§¹Õé";
					mes "ËÒ¡ÇèÒà¨éÒà»ÅÕèÂ¹ã¨·Õè¨ĞáÅ¡ÁÑ¹";
					close;
					
				case 2:
					if (countitem(.SnowReqID) >= .SnowAmounts[4]) {
						delitem .SnowReqID,.SnowAmounts[4];
						getitem .Rewards[4],1;
						mes .NPCName$;
						mes "ÍÂÙè¹Õè!";
						mes "ÃÕºæ ÁÒµÃ§¹Õé";
						mes "ÅØé¹¨ÃÔ§æ ÇèÒ¨Ğà¢éÒ¡Ñºà¨éÒá¤èäË¹";
						close;
					}
					mes "à¨éÒÂÑ§ÁÕ "+getitemname(.SnowReqID)+" äÁèà¾ÕÂ§¾Í";
					mes "¡ÅÑºÁÒãËÁèÍÕ¡¤ÃÑé§àÁ×èÍà¨éÒÁÕÁÑ¹ÁÒ¡¾Í.";
					close;
			}
			end;
	}
	end;
	
OnInit:
	.NPCName$ = "[^0000FF Santy ^000000]"; 
	setarray .SnowReqID[0], 12739;			// äÍà·çÁ·ÕèµéÍ§ãªé
	setarray .Rewards[0], 19982, 19976, 19697, 20222, 19685; // ¢Í§ÃÒ§ÇÑÅ
	setarray .SnowAmounts[0], 1, 1000, 400, 300, 400; // ¨Ó¹Ç¹¢Í§·ÕèµéÍ§ãªé
	end;
}

xmas,156,168,5	script	Santa’s Gift#Christmas2020_4	4_M_06,{
	disable_items;
	mes .NPCName$;
	mes "¢éÒÂÑ§à»ç¹à´ç¡...";
	mes "áÁé¨Ğà»ç¹¼ÙéªèÇÂ¢Í§«Ò¹µéÒ";
	mes "áµèªèÇÂàÃÕÂ¡¢éÒÇèÒ«Ò¹µéÒà¶ÍĞ";
	mes "ÍèÒ §Ñé¹¡çªèÒ§ÁÑ¹à¶ÍĞ...";
	next;
	mes .NPCName$;
	mes "¢éÒµéÍ§ÃÇºÃÇÁ¶Ø§à·éÒÊÕá´§·ÕèµéÍ§«èÍÁ";
	mes "áÅéÇÊè§ä»ãËéÊÓ¹Ñ¡§Ò¹ãË­è";
	mes "......";
	mes "ªÙèÇÇ ¹Õèà»ç¹¤ÇÒÁÅÑº¹Ğ";
	mes "¢éÒÁæ ä»à¶ÍĞ";
	next;
	mes .NPCName$;
	mes "¢éÒÍ¸ÔºÒÂÃÒÂÅĞàÍÕÂ´ãËéäÁèä´é";
	mes "áµè¨ĞÍ¸ÔºÒÂ¡¯§èÒÂæ ãËéáÅéÇ¡Ñ¹";
	mes "¶éÒà¨éÒàÍÒ ^FF0000"+getitemname(.ItemReqID)+" "+(.ReqAmounts)+" ea^000000 ÁÒãËé¢éÒ";
	mes "¢éÒ¨ĞãËé ^1E90FF¡ÅèÍ§¢Í§¢ÇÑ­ 1 ¡ÅèÍ§^000000 á¡èà¨éÒ";
	mes "à»ç¹ä§ §èÒÂÁÒ¡àÅÂãªèäËÁÅèĞ?";
	next;
	switch( select("áÅ¡¡ÅèÍ§¢Í§¢ÇÑ­","¨º¡ÒÃÊ¹·¹Ò")){
		case 1:
			mes .NPCName$;
			if (countitem(.ItemReqID) < .ReqAmounts) {
				mes "¹Õèà¨éÒÂÑ§äÁèÁÕ¶Ø§à·éÒÊÕá´§¤ÃºµÒÁ·Õè¢éÒºÍ¡àÅÂ¹Ô";
				mes "¡ÅÑºÁÒËÒ¢éÒÍÕ¡¤ÃÑé§ àÁ×èÍà¨éÒä´éÁÑ¹ÁÒ¤ÃºáÅéÇ";
				close;
			}			
			delitem .ItemReqID,.ReqAmounts;
			.Random = rand(getarraysize(.Rewards));
			.@rand = rand(1,100);
			if (.@rand <= 5) {
				getitem .Rewards[4],1;
			}
			else {
				getitem .Rewards[.Random],1;
			}
			mes "¢Íº¤Ø³·ÕèãËé¤ÇÒÁÃèÇÁÁ×Í";
			mes "¢ÍãËéà¡çºàÃ×èÍ§·ÕèàÃÒÃÇºÃÇÁ¶Ø§à·éÒÍÑ¹¹Õé";
			mes "äÇéà»ç¹¤ÇÒÁÅÑº¹Ğ";
			mes "áÅéÇ¶éÒËÒ¶Ø§à·éÒÁÒãËéÍÕ¡";
			mes "¢éÒ¨ĞãËé¢Í§¢ÇÑ­à¾ÔèÁ";
			close;
			
		case 2: close;
	}
	end;

OnInit:
	.NPCName$ = "[^0000FF Santa’s Gift ^000000]"; 
	.ItemReqID = 7034;	// äÍà·çÁ·ÕèµéÍ§ãªé
	.ReqAmounts = 3; 	// ¨Ó¹Ç¹¢Í§·ÕèµéÍ§ãªé
	setarray .Rewards[0], 644, 665, 666, 667, 22870; // ¢Í§ÃÒ§ÇÑÅ
	end;
}


-	script	Mother_Crystal_Quest	-1,{

//= Event Start :: àÃÔèÁ¡Ô¨¡ÃÃÁ
OnEventStart:
	announce "[ »ÃĞ¡ÒÈ ] : ¢³Ğ¹Õéã¡Åé¶Ö§àÇÅÒ¡Ô¨¡ÃÃÁ Mother Crystal áÅéÇ !!",0;
	initnpctimer;
	end;
	
OnTimer1000:
	announce "[ »ÃĞ¡ÒÈ ] : ¢ÍãËé·Ø¡·èÒ¹àµÃÕÂÁµÑÇãËé¾ÃéÍÁ",0;
	end;
	
OnTimer10000:
	announce "[ »ÃĞ¡ÒÈ ] : â´Â¨ĞÁÕÁÍ¹ÊàµÍÃì Santa Poring »ÃÒ¡¯·Õè "+.MapName$+"",0;
	end;
	
OnTimer14000:
	announce "[ »ÃĞ¡ÒÈ ] : ·Ø¡·èÒ¹¨ĞµéÍ§ªèÇÂ¡Ñ¹¡Ó¨Ñ´ Santa Poring ·Ñé§ËÁ´ 5 µÑÇ ·Õè»ÃÒ¡¯¢Öé¹ÁÒ",0;
	end;
	
OnTimer19000:
	announce "[ »ÃĞ¡ÒÈ ] : àÁ×èÍ Santa Poring ¶Ù¡¡Ó¨Ñ´·Ñé§ËÁ´ Mother Crystal ¨Ğ»Ò¡¯µÑÇÍÍ¡ÁÒ",0;
	end;
	
OnTimer32000:
	announce "[ »ÃĞ¡ÒÈ ] : ÁÕàÇÅÒ 10 ¹Ò·Õ ËÒ¡¡Ó¨Ñ´ Mother Crystal ·Õè»ÃÒ¡¯¢Öé¹ÁÒä´é ÁÑ¹¨Ğ´ÃÍ» "+getitemname(.Reward)+" à»ç¹¨Ó¹Ç¹ÁÒ¡",0;
	end;
	
OnTimer59000:
	announce "[ »ÃĞ¡ÒÈ ] : ¢ÍãËé·Ø¡·èÒ¹âª¤´Õ ¡Ô¨¡¡ÃÁä´éàÃÔèÁ¢Öé¹áÅéÇ !!",0;
	end;
	
OnTimer60000:
	announce "[ »ÃĞ¡ÒÈ ] : ¢³Ğ¹Õéä´éÁÕ Santa Poring »ÃÒ¡¯¢Öé¹ÀÒÂã¹àÁ×Í§¹ÕéáÅéÇ !!",0;
	monster .Map$,0,0,"Santa Poring",1062,5,"Mother_Crystal_Quest::OnPoringDead";
	stopnpctimer;
	end;

OnEventEnd:
	announce "[ »ÃĞ¡ÒÈ ] : ËÁ´àÇÅÒ¡Ô¨¡ÃÃÁã¹ÃÍº¹ÕéáÅéÇ !!",0;
	killmonster .Map$,"All";
	end;
	
OnPoringDead:
	$PoringKilled++;
	announce "[ »ÃĞ¡ÒÈ ] : Santa Poring ä´é¶Ù¡¡Ó¨Ñ´ä»áÅéÇ "+$PoringKilled+" µÑÇ !!",0;
	if ($PoringKilled >= 5) {
		goto BossSpawn;
	}
	end;
	
BossSpawn:
	$PoringKilled = 0;
	announce "[ »ÃĞ¡ÒÈ ] : Mother Crystal ä´é»ÃÒ¡¯µÑÇ¢Öé¹áÅéÇ !! ",0;
	monster .Map$,0,0,"Mother Crystal",2080,1,"Mother_Crystal_Quest::OnBossDead";
	end;

OnBossDead:
	announce "[ »ÃĞ¡ÒÈ ] : Mother Crystal ä´é¶Ù¡¡Ó¨Ñ´Å§áÅéÇ !! ",0;
	announce "[ »ÃĞ¡ÒÈ ] : "+getitemname(.Reward)+" ¨ĞÊØèÁ´ÃÍ»·ÑèÇ·Ñé§ "+.MapName$+" à»ç¹¨Ó¹Ç¹ÁÒ¡ !!",0;
	killmonster .Map$,"All";
	if ( !.@Amount || .@Amount > 300 ) .@Amount = 300;
	getmapxy(.@map$,.@x,.@y,BL_PC);
	while ( .@i < .@Amount ) {
		do {
			.@dx = rand( -200, 200 );
			.@dy = rand( -200, 200 );
		} while( !checkcell( .@map$,(.@x+.@dx),(.@y+.@dy),cell_chkpass ) );
		makeitem .Reward, 1, .@map$, .@x + .@dx, .@y + .@dy;
		.@i++;
	}
	end;

//Start Time :: àÇÅÒàÃÔèÁ¡Ô¨¡ÃÃÁ
OnClock0000:
OnClock0100:
OnClock0200:
OnClock0300:
OnClock0400:
OnClock0500:
OnClock0600:
OnClock0700:
OnClock0800:
OnClock0900:
OnClock1000:
OnClock1100:
OnClock1200:
OnClock1300:
OnClock1400:
OnClock1500:
OnClock1600:
OnClock1700:
OnClock1800:
OnClock1900:
OnClock2000:
OnClock2100:
OnClock2200:
OnClock2300:
	goto OnEventStart;
	end;

//End Time :: àÇÅÒ¨º¡Ô¨¡ÃÃÁ
OnClock0011:
OnClock0111:
OnClock0211:
OnClock0311:
OnClock0411:
OnClock0511:
OnClock0611:
OnClock0711:
OnClock0811:
OnClock0911:
OnClock1011:
OnClock1111:
OnClock1211:
OnClock1311:
OnClock1411:
OnClock1511:
OnClock1611:
OnClock1711:
OnClock1811:
OnClock1911:
OnClock2011:
OnClock2111:
OnClock2211:
OnClock2311:	
	goto OnEventEnd;
	end;
	
OnInit:
	.Map$ = "xmas";		//Map :: áÁç¾·Õèãªé¨Ñ´¡Ô¨¡ÃÃÁ
	.MapName$ = "Lutie";
	.Reward = 12739;	//Reward :: ¢Í§ÃÒ§ÇÑÅ
	
	//= Command :: ¤ÓÊÑè§ à»Ô´-»Ô´ ¡Ô¨¡ÃÃÁ
	//========================================================
	bindatcmd "xmasevon",strnpcinfo(3) + "::OnEventStart",99,99;
	bindatcmd "xmasevoff",strnpcinfo(3) + "::OnEventEnd",99,99;
	end;

}