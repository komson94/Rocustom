//==============================================
//==============================================
//==============================================
// - Script By : แม่มดน้อย จอมป่วน
// - Script City : Thailand 
// - Script Support Server : rAthena & Hercules
// Contacts
// Facebook https://www.facebook.com/appleroplus2
// Gmail appleroplus@gmail.com
// Skype appleroplus@hotmail.com
//==============================================
//==============================================
//==============================================
-	script	BuffsSupports	-1,{

goto MAINBUFF;
//OnPCBaseLvUpEvent:
//	if(strnpcinfo(2) != "01")	end;
OnTouch:
MAINBUFF:
	set .@delay, 3;	// ดีเลย์การใช้งาน (วินาที)
	set .@cast, 0;	// ระยะเวลาร่าย (วินาที)
	
	if ( gettimetick(2)-@delay_heal < .@delay )
		dispbottom "[ระบบ] โปรดรออีก "+(.@delay-(gettimetick(2)-@delay_heal))+" วินาทีถึงจะใช้งานได้อีกครั้งนะค่ะ";
	else
	{
		progressbar "0x007000", .@cast;
		
		set @delay_heal, gettimetick(2);

		//ข้อความที่ต้องการให้NPCพูด
		npctalk "[เอลฟ์แห่งเสียงดนตรี] ท่านได้รับพลังพิเศษจากเทพอาธีน่าแล้ว";
		//เช็คไอเทมที่เสียหายถ้ามีซ่อมให้ทันที
		if (getbrokenid(1) > 0) 
		{ 
			atcommand "@repairall";
		}
		
		//แก้สถานะต่างๆ
		sc_end SC_STAN;
		sc_end SC_STUN;
		sc_end SC_STONE;
		sc_end SC_SLOWDOWN;
		sc_end SC_FREEZE;
		sc_end SC_SLEEP;
		sc_end SC_CURSE;
		sc_end SC_SILENCE;
		sc_end SC_CONFUSION;
		sc_end SC_BLIND;
		sc_end SC_BLEEDING;
		sc_end SC_DECREASEAGI;
		sc_end SC_POISON;
		sc_end SC_HALLUCINATION;
		sc_end SC_STRIPWEAPON;
		sc_end SC_STRIPARMOR;
		sc_end SC_STRIPHELM;
		sc_end SC_STRIPSHIELD;
		sc_end SC_CHANGEUNDEAD;
		sc_end SC_ORCISH;
		sc_end SC_SKE;
		sc_end SC_SWOO;
		sc_end SC_SKA;
		sc_end SC_BURNING;
		sc_end SC_FREEZING;
		sc_end SC_FEAR;

		//บัพค่าอาหาร 30นาที Support rAthena
		sc_start SC_STRFood, 1800000,5;
		sc_start SC_AGIFood, 1800000,5;
		sc_start SC_VITFood, 1800000,5;
		sc_start SC_INTFood, 1800000,5;
		sc_start SC_DEXFood, 1800000,5;
		sc_start SC_LUKFood, 1800000,5;
		
		//บัพสกิลต่างๆ
		sc_start SC_BLESSING,1800000,10;
		sc_start SC_INCREASEAGI,1800000,10;
		sc_start 41,1800000,10; //กอเรีย
		sc_start 40,1800000,10; // MAGNIFICAT เร่ง
		if(agitcheck()){
				sc_end SC_POEMBRAGI;
				sc_end SC_SERVICE4U;
				sc_end SC_ASSNCROS;
				sc_end SC_APPLEIDUN;
			dispbottom "[เอลฟ์แห่งเสียงดนตรี] คุณ เป็นผู้เล่น ระดับ ทั่วไป  ยกเลิกสถานะ ( บากิ & เซอร์วิส ) เนื่องจากอยู่ในช่วงเวลา สงครามชิงปราสาท)";
		}else{
			sc_start4 SC_POEMBRAGI,1000*60*5,5,70,90,10;
			sc_start4 SC_SERVICE4U,1000*60*5,5,40,40,1;
			dispbottom "[เอลฟ์แห่งเสียงดนตรี] คุณ เป็นผู้เล่น ระดับ ทั่วไป ในขณะคุณได้อยู่ในสถานะ ( บากิ & เซอร์วิส ) เป็นเวลา 5 นาที (ไม่สามารถใช้ได้ใน สนามประลอง & สงครามชิงปราสาท ได้)";
		}

		//เพิ่มHPและSP 100%
		percentheal 100,100; 
		
		//เอฟเฟกเพิ่มความสวยงาม
		specialeffect 509;
		specialeffect 410;
		specialeffect2 509;
		specialeffect2 EF_HEAL2;
		specialeffect2 EF_INCAGILITY;
		specialeffect2 EF_BLESSING;
		//==============================================
		//==============================================
		//==============================================
		
		//ส่องไอเทมปริศนาที่มีในตัวทั้งหมด
			atcommand "@identifyall";

		
		
		// VIP บัพ
		if(vip_status(VIP_STATUS_ACTIVE) || getgmlevel() >= 99){
			sc_start SC_SpeedUp1,1800000,1; //วิ่งเร็ว
			sc_start SC_ATKPOTION,1800000,50; //+atk
			sc_start SC_MATKPOTION,1800000,50; //+matk
			sc_start 29,1800000,10; //แอง
			sc_start SC_IMPOSITIO,1800000,5;
			sc_start 41,1800000,5; //กอเรีย
			sc_start 34,1800000,1; //พิษ
			sc_start 39,1800000,10; //ไครี่
			sc_start 36,1800000,10; // SUFFRAGIUM ร่ายไว
			sc_start 40,1800000,5; // MAGNIFICAT เร่ง
			sc_start SC_HitFood,1800000,10;
			sc_start SC_FleeFood,1800000,10;
			sc_start SC_BATKFood,1800000,10;
			sc_start SC_MATKFood,1800000,10;
			sc_start CR_FULLPROTECTION,1800000,10;
			
			if(agitcheck()){
				sc_end SC_POEMBRAGI;
				sc_end SC_SERVICE4U;
				sc_end SC_ASSNCROS;
				sc_end SC_APPLEIDUN;
				dispbottom "[เอลฟ์แห่งเสียงดนตรี] คุณ เป็นผู้เล่น ระดับ VIP ได้รับ บัพช่วยเหลือพิเศษ & ยกเลิกสถานะ ( บากิ & เซอร์วิส ) เนื่องจากอยู่ในช่วงเวลา สงครามชิงปราสาท)";
			}else{
				sc_start4 SC_POEMBRAGI,1000*60*15,5,70,90,10;
				sc_start4 SC_SERVICE4U,1000*60*15,5,40,40,1;
				dispbottom "[เอลฟ์แห่งเสียงดนตรี] คุณ เป็นผู้เล่น ระดับ VIP ได้รับ บัพช่วยเหลือพิเศษ & ในขณะคุณได้อยู่ในสถานะ ( บากิ & เซอร์วิส ) เป็นเวลา 15 นาที (ไม่สามารถใช้ได้ใน สนามประลอง & สงครามชิงปราสาท ได้)";
			}
			
			//เพิ่มHPและSP 100%
			percentheal 100,100; 
			
			//เอฟเฟกเพิ่มความสวยงาม
			specialeffect 509;
			specialeffect 410;
			specialeffect2 509;
			specialeffect2 EF_HEAL2;
			specialeffect2 EF_INCAGILITY;
			specialeffect2 EF_BLESSING;
		    set ep_illusion, 100;
	        set ep17_2_main, 100;
	        set ep16_1_main, 100;
	        set ep16_2_main, 100;
			//==============================================
			//==============================================
			//==============================================
		}
		end;
	}
}

//==============================================
//ที่ตั้งNPC
//==============================================
prontera,146,92,5	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#01	4_F_NURSE,10,10
alberta,31,240,4	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#02	4_F_NURSE,10,10
lasagna,185,179,5	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#03	4_F_NURSE,10,10
aldebaran,147,119,4	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#04	4_F_NURSE,10,10
amatsu,206,87,4	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#05	4_F_NURSE,10,10
ayothaya,212,173,5	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#06	4_F_NURSE,10,10
brasilis,203,225,4	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#07	4_F_NURSE,10,10
comodo,185,157,5	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#08	4_F_NURSE,10,10
dewata,206,188,5	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#09	4_F_NURSE,10,10
ecl_in01,44,60,5	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#10	4_F_NURSE,10,10
einbech,56,36,5	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#12	4_F_NURSE,10,10
einbroch,75,202,4	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#13	4_F_NURSE,10,10
dicastes01,201,194,4	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#14	4_F_NURSE,10,10
geffen,126,64,4	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#15	4_F_NURSE,10,10
gonryun,165,128,4	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#16	4_F_NURSE,10,10
hugel,89,149,5	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#17	4_F_NURSE,10,10
//izlude,124,148,4  duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#45	4_F_NURSE,10,10
jawaii,249,140,4	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#19	4_F_NURSE,10,10
lighthalzen,155,102,5	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#20	4_F_NURSE,10,10
louyang,227,104,4	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#21	4_F_NURSE,10,10
xmas,140,129,5	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#22	4_F_NURSE,10,10
malangdo,128,117,4	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#23	4_F_NURSE,10,10
malaya,243,203,4	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#24	4_F_NURSE,10,10
manuk,272,142,5	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#25	4_F_NURSE,10,10
mid_camp,203,288,5	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#26	4_F_NURSE,10,10
mora,60,147,4	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#27	4_F_NURSE,10,10
morocc,153,97,4	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#28	mh_bacsojin,10,10
moscovia,217,191,4	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#29	4_F_NURSE,10,10
nameless_n,256,218,4	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#30	4_F_NURSE,10,10
niflheim,202,189,4	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#31	4_F_NURSE,10,10
payon,166,98,5	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#32	4_F_NURSE,10,10
rachel,124,116,4	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#33	4_F_NURSE,10,10
splendide,201,153,4	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#34	4_F_NURSE,10,10
thor_camp,245,76,4	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#35	4_F_NURSE,10,10
umbala,97,149,4	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#36	4_F_NURSE,10,10
veins,210,119,4	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#37	4_F_NURSE,10,10
yuno,162,52,4	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#38	4_F_NURSE,10,10
pay_arche,45,134,4	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#39	4_F_NURSE,10,10

// --------------------------------------------------
//	Duplicates: ตำแหน่ง NPC ตามเมืองต่างๆ (Extra)
// --------------------------------------------------
askald,124,161,5	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#40	4_F_NURSE,10,10
firstcity,220,215,3	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#41	4_F_NURSE,10,10
vend_zone,106,103,3	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#42	4_F_NURSE,10,10
bounty_hall,108,141,4	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#43	4_F_NURSE,10,10
askald,136,48,5	duplicate(BuffsSupports)	เอลฟ์แห่งเสียงดนตรี#44	4_F_NURSE,10,10
//==============================================